<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html xmlns:o="urn:schemas-microsoft-com:office:office"><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 9.00.8112.16440"></meta></head><body>
<p align="justify"><span style="FONT-FAMILY: 'Comic Sans MS'; FONT-SIZE: 13.5pt">Подсистема "Контекстная подсказка" для 1С:Предприятие 8.2</span></p>
<p align="justify"><span style="FONT-FAMILY: 'Comic Sans MS'"><font size="3">Общая информация</font></span></p>
<p align="justify"><font size="3" face="Times New Roman">Иногда удобно хранить фрагменты программы непосредственно в БД. Это касается как внутреннего языка, так и языка запросов. Однако редактировать программу в режиме предприятия довольно сложно из-за отсутствия контекстной подсказки и справки. Если для языка запросов это компенсируется наличием конструктора (при использовании которого вы лишаетесь драгоценных комментариев в тексте запроса), то для внутреннего языка никаких средств не предусмотрено. Данная внутренняя компонента предназначена для поднятия эффективности работы с программным текстом в режиме предприятия.</font></p>
<p align="justify"><font size="3" face="Times New Roman">Основное предназначение - быстрый выбор слова исходя из вычисляемого контекста. Поддерживается режим внутреннего языка и режим языка запросов. Принцип работы основан на безопасном вычислении типа и сборе статистики обращения к свойствам и методам объекта. В рамках безопасного вычисления типа реализована хорошая поддержка метаданных. Используется упрощенный анализ синтаксиса языков, который однако позволяет в подавляющем большинстве случаев правильно выполнять заявленные функции.</font></p>
<h5 align="justify"><span style="FONT-SIZE: 10pt">Основные возможности:</span></h5>
<ul><li><span style="FONT-SIZE: 10pt"></span><font size="3" face="Times New Roman">вычисление предопределенных свойств и методов</font> 
</li><li>
<div align="justify"><font size="3" face="Times New Roman">вычисление свойств, определяемых метаданными</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">вычисление расширений форм и элементов управления (требуется специальная передача метаданных)</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">подсказка в специальных случаях: языка запросов - &lt;ССЫЛКА &gt;, &lt;ЗНАЧЕНИЕ(&gt;; внутреннего языка - &lt;Тип("&gt;, &lt;Новый &gt;, &lt;Новый(" &gt;, &lt;Новый ОписаниеТипов("&gt;</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">отображение адекватной информации об ошибке и подсветка ошибочной строки текста</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">переход к последнему определению идентификатора в тексте</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">отображение контекстной справки по слову и по параметру метода</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">поддержка программного указания свойств локального контекста</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">поддержка указания типа в комментариях (//: Таб=Новый Таблица;)</font></div></li></ul><h5 align="justify"><span style="FONT-SIZE: 10pt">Основные невозможности:</span></h5>
<ul><li>
<div align="justify"><span style="FONT-SIZE: 10pt">в режиме языка запросов не производится анализ разграничения между вложенными запросами<br><br></span></div></li></ul><p align="justify"><strong><font size="3" face="Times New Roman">Поле текстового документа текста программы</font></strong></p>
<p align="justify"><font size="3" face="Times New Roman">При подключении компоненты к полю текстового документа на рядом расположенной командной панели обычно будут присутствовать следующие команды:</font></p><font size="3" face="Times New Roman">
<ul><li>
<div align="justify"><em>язык запросов - </em>Удалить переносы</div>
</li><li>
<div align="justify"><em>внутренний язык - </em>Выполнить, Редактор строкового литерала</div>
</li><li>
<div align="justify"><em>общие -</em> Конструктор, Синтаксический контроль, Выполнить шаблон, Перейти к определению, Контекстная справка, Подсказать параметр, Контекстная подсказка, Заменить неначальные табуляции пробелами, Настройка компоненты.</div></li></ul><p align="justify"></p>
<p align="justify">Описание команд:</p></font>
<ul><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Конструктор" - CTRL+W - вызывает конструктор запросов и в случае языка запросов передает ему выделенный или весь текст, а в случае внутреннего языка передает ему весь строковый литерал, внутри которого находится курсор.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "УдалитьПереносы" - CTRL+ALT+D - удаляет переносы строк из текста запроса.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Выполнить" - CTRL+R - исполняет программу.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">
<div align="justify"><font size="3" face="Times New Roman">Команда "Редактор строкового литерала" - CTRL+SHIFT+E - вызывает редактор строкового литерала, в котором находится курсор.</font><font size="3" face="Times New Roman"></font></div></font></div>
</li><li>
<div align="justify">Команда "Синтаксический контроль" - CTRL+F7 выполняет проверку синтаксиса текста запроса или программного кода. В случае обнаружения ошибки в окно сообщений будет выведено описание ошибки с указанием номера строки. Ошибочная строка будет выделена. Команда "Перейти к определению" - F12 - переходит к определению идентификатора в тексте. В режиме языка запросов корректное определение пока будет указываться только для таблиц.</div>
</li><li>
<div align="justify">
<div align="justify"><font size="3" face="Times New Roman">Команда "Выполнить шаблон" - SHIFT+SPACE - выполняет шаблон (слово непосредственно слева от курсора).</font></div></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Контекстная справка" - CTRL+F1 - открывает справку на выбор по роли или типу текущего слова.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Подсказать параметр" - CTRL+F2 - открывает справку по текущему параметру метода. Определяется последний открытый вызов метода в позиции курсора, номер текущего параметра и открывается справка с подсветкой нужного параметра.<br></font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Контекстная подсказка" - CTRL+SPACE - вычисляет список слов для текущего родительского контекста и дополняет текущее начало слова до минимальной общей части группы слов, начало которых совпадает с данным. Если такое дополнение невозможно, открывается форма подсказки.<br></font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Заменить неначальные табуляции пробелами" - Alt+Shift+Space - выполняет замену всех символов табуляции, расположенных после первого символа каждой строки на эквивалентное количество пробелов. <br></font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Команда "Настройка компоненты" - открывает окно настройки компоненты.</font></div></li></ul><p align="justify"></p>
<dl><dd>
<div align="justify"><font style="BACKGROUND-COLOR: #ffff99" size="3" face="Times New Roman">Для отображения значения какого либо выражения в нужном месте текста программы можно использовать специальную функцию глобального контекста Исследовать(Параметр, Модально = Истина). В качестве первого параметра нужно указать интересующее выражение, а вторым параметром задается необходимость модального режима. При выполнении функции будет открыто окно "Исследователь объектов", являющееся аналогом диалога "Вычислить выражение" отладчика.</font></div></dd></dl><p align="justify"><strong><font size="3" face="Times New Roman">Форма подсказки</font></strong></p>
<p align="justify"><font size="3" face="Times New Roman">В заголовке формы после слова "Контекст: " отображает идентификатор текущего родительского контекста. В самом верху формы расположено поле типа родительского контекста. Ниже расположено поле ввода текущего слова. Вводить можно только части слов из списка. Т.е. последовательности символов, не совпадающие ни с одним словом в списке, ввести не получится. После ввода каждого символа текущего слова происходит позиционирование в списке слов, а также промежуточное дополнение слова исходя из набора слов, чье начало совпадает с введенной строкой. При удалении каждого символа происходит аналогичное сокращение текущего слова.<br>Рассмотрим на примере. Например имеем список слов<br></font><font size="3"><span style="FONT-FAMILY: 'Georgia','serif'">...<br>-ПеребратьЭлементы() <br>-ПолуПериод <br>-ПолученноеСреднее<br>... <br>-ПолучитьСреднееСРазбивкойПоИнтервалам() <br>-ПолучитьСреднееБезРазбивкиПоИнтервалам()<br>-ПреобразоватьКСтроке()<br>...</span><br><font face="Times New Roman">и нам требуется длинное слово "ПолучитьСреднееБезРазбивкиПоИнтервалам". В штатной контекстной подсказке конфигуратора нам потребовалось бы набрать "ПолучитьСреднееБ" и выбрать слово. В нашем же случае после ввода "По" программа сразу дополнит слово до "Полу", как максимальной общей части всех элементов списка, начинающихся с заданной строки. Затем вводим "и" ("Получи") и сразу же происходит дополнение до ("ПолучитьСреднее"). Затем символ "б" ("ПолучитьСреднееБ") и уже видим "ПолучитьСреднееБезРазбивкиПоИнтервалам". Так как такой подход немного непривычен, сделана специальная колонка "Ключевая буква", где для каждого слова отображается следующая буква. По умолчанию эта колонка, как и многие другие скрыта.</font></font></p>
<p align="justify"><font size="3" face="Times New Roman">В списке слов всего доступно 6 настраиваемых колонок: Определение, Частота, Тип значения, Тип слова, Ключевая буква. Описание колонок:</font></p>
<ul><li>
<div align="justify"><font size="3" face="Times New Roman">Колонка "Ключевая буква" уже рассмотрена выше.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Колонка "Определение" содержит информацию о характере декларации.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Колонка "Частота" показывает количество вхождений.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Колонка "Тип значения" отображает вычисленный набор типов значений.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Колонка "Тип слова" может содержать "метод", "свойство", "поле", "таблица", "тип", "ключевое слово".</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Контекстное меню списка слов позволяет осуществлять привычный отбор по колонкам Слово, Определение, Частота, Тип значения, Тип слова.</font></div></li></ul><p align="justify"><font size="3" face="Times New Roman"></font></p>
<p align="justify"><font size="3" face="Times New Roman">Справа от поля ввода текущего слова находится поле ввода "горячего" фильтра по подстроке. Еще правее расположена командная панель быстрых переключателей исключающих фильтров "Не методы", "Не свойства", "Не ключевые слова". Для них закреплены горячие сочетания клавиш CTRL+1, CTRL+2, CTRL+3. В форме можно нажать CTRL+F1 для отображения справки по слову из текущей строки.</font></p>
<p align="justify"><font size="3" face="Times New Roman">После выбора нужного слова путем двойного щелчка мышкой или нажатия &lt;ENTER&gt; текущее слово в тексте будет заменено на выбранное. Если новое слово является методом, то автоматически будет добавлено "(", "()" или "();" в зависимости от того, процедура это или функция, и режима языка. Если нажать "=", то произойдет все тоже самое, но дополнительно будет добавлено " = ".</font></p>
<dl><dd>
<div align="justify"><span style="BACKGROUND: #ffff99"><font size="3" face="Times New Roman">Если на выбранном слове нажать "." (кириллическая точка; при этом фокус ввода должен находиться в поле ввода), то текущее слово в тексте будет также заменено на выбранное, и после него будет сразу добавлена точка и окно подсказки переоткроется. Таким образом вы сразу переходите "внутрь" выбранного слова. В данном случае ввод параметров всех выбранных функций откладывается на потом.</font></span></div></dd></dl><p align="justify"><span style="BACKGROUND: #ffff99"><font style="BACKGROUND-COLOR: #ffffff" size="3" face="Times New Roman">В случае определения у контекста нескольких агрегатных типов будет предложено выбрать конкретный тип из списка.</font></span></p>
<p align="justify"><strong><font size="3" face="Times New Roman">Форма настройки</font></strong></p>
<p align="justify"><font size="3" face="Times New Roman">Настройки компоненты хранятся в профиле пользователя информационной базы. </font></p>
<ul><li>
<div align="justify"><font size="3" face="Times New Roman">Путь к файлу шаблонов позволяет подключить стандартный файл шаблонов (ST).</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Опция "Открывать окно подсказки при пустом списке" отвечает за отказ от открытия формы подсказки в случае пустого списка для текущего контекста.</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Возвращением фокуса главному окну при открытии окна справки управляет опция "Активизировать окно справки при его открытии".</font></div>
</li><li>
<div align="justify"><font size="3" face="Times New Roman">Для включения промежуточных дополнений непосредственно в поле текстового документа предназначена опция "Использовать промежуточные дополнения"</font></div></li></ul><p></p>
<p align="justify"><strong><font size="3" face="Times New Roman">Форма синтакс-помощника</font></strong></p>
<p align="justify"><font size="3" face="Times New Roman">Представляет собой браузер для отображения оглавления книг и страниц синтакс-помощника.</font></p>
<p align="justify"><span style="FONT-FAMILY: 'Comic Sans MS'"><font size="3">О программе</font></span></p>
<p align="justify"><font size="3" face="Times New Roman">Страница проекта </font><a href="http://infostart.ru/public/14700/">http://infostart.ru/public/14700/</a><font size="3" face="Times New Roman">. Автор tormozit, skype: tormozit, icq:283511553, <span style="mso-field-code: ' HYPERLINK '''"><span class="MsoHyperlink"><u><font color="#0000ff">mailto:tormozit@mail.ru</font></u></span></span>. </font></p>
<p style="MARGIN: 0cm 0cm 10pt" class="MsoNormal" align="justify"><o:p><font size="3" face="Calibri"></font></o:p></p></body></html>